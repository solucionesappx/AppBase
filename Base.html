<!DOCTYPE html>
<html lang="es" class="dark">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>ZXC - Inicio</title>
    <script src="https://cdn.tailwindcss.com"></script><script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        html{font-family:'Inter',sans-serif;-webkit-tap-highlight-color:transparent}
        :root{--bg:#1f2937;--txt:#f3f4f6;--p-soft:#60a5fa;--surf:#374151}
        .dark{background-color:var(--bg);color:var(--txt)}
        #app-container{width:100%;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;box-shadow:0 0 20px rgba(0,0,0,.2);position:relative;transition:max-width .4s ease-in-out}
        .mode-mobile{max-width:500px}.mode-desktop{max-width:100%!important}
        header,footer{width:100%;max-width:inherit;z-index:50;left:50%;transform:translateX(-50%);position:fixed;background:var(--surf);border-color:#4b5563}
        main{flex-grow:1;overflow-y:auto;padding:76px 1rem 72px}
        .footer-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:.75rem;color:var(--txt);cursor:pointer}
        .footer-btn.active{color:var(--p-soft);font-weight:700}
        .modal-overlay{position:fixed;inset:0;background:rgba(17,24,39,.8);backdrop-filter:blur(4px);z-index:100;display:flex;justify-content:center;align-items:center}
        .modal-content{background:var(--surf);border:1px solid #4b5563;border-radius:1rem;width:90%;max-width:320px}
        .dashboard-grid{display:grid;gap:1rem;grid-template-columns:repeat(1,1fr)}
        @media(min-width:640px){.mode-desktop .dashboard-grid{grid-template-columns:repeat(2,1fr)}}
        @media(min-width:1024px){.mode-desktop .dashboard-grid{grid-template-columns:repeat(4,1fr)}}
    </style>
</head>
<body class="dark">
    <div id="app-container" class="shadow-xl mode-mobile">
        <header class="top-0 h-14 border-b flex items-center justify-between px-6">
            <h1 class="text-xl font-bold truncate mr-2 text-white">Cargando...</h1>
            <div class="flex items-center gap-3">
                <button id="btn-toggle-view" class="p-2 transition-all" onclick="toggleView()"><div id="view-icon-container"></div></button>
                <button class="p-2 text-red-400" onclick="logout()"><i data-lucide="log-out" class="w-6 h-6"></i></button>
            </div>
        </header>
        <main id="main-content">
            <div class="dashboard-grid mt-6">
                <div class="p-4 bg-gray-800 rounded-2xl border border-gray-700 text-center sm:col-span-full mb-2">
                    <i data-lucide="layout-dashboard" class="w-12 h-12 mx-auto mb-3 text-blue-400"></i>
                    <h2 class="text-2xl font-bold">Panel ZXC</h2>
                    <p class="text-sm text-gray-400 mt-1">Gestión centralizada de operaciones.</p>
                </div>
                <div onclick="loadContent('Datos')" class="p-6 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center cursor-pointer hover:border-blue-500 transition-all group">
                    <i data-lucide="database" class="w-8 h-8 mb-2 text-gray-500 group-hover:text-blue-400"></i><span class="font-bold">Datos</span>
                </div>
                <div onclick="loadContent('Agregar')" class="p-6 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center cursor-pointer hover:border-emerald-500 transition-all group">
                    <i data-lucide="plus-circle" class="w-8 h-8 mb-2 text-gray-500 group-hover:text-emerald-400"></i><span class="font-bold">Agregar</span>
                </div>
                <div onclick="loadContent('Perfil')" class="p-6 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center cursor-pointer hover:border-purple-500 transition-all group">
                    <i data-lucide="user" class="w-8 h-8 mb-2 text-gray-500 group-hover:text-purple-400"></i><span class="font-bold">Perfil</span>
                </div>
                <div onclick="loadContent('Configuracion')" class="p-6 bg-gray-800 rounded-xl border border-gray-700 flex flex-col items-center cursor-pointer hover:border-amber-500 transition-all group">
                    <i data-lucide="settings" class="w-8 h-8 mb-2 text-gray-500 group-hover:text-amber-400"></i><span class="font-bold">Config</span>
                </div>
            </div>
        </main>
        <footer class="bottom-0 h-18 border-t flex items-center justify-around px-2 py-1">
            <button class="footer-btn active" data-section="Inicio"><i data-lucide="home" class="w-6 h-6"></i><span>Inicio</span></button>
            <button id="btn-datos" class="footer-btn" data-section="Datos"><i data-lucide="database" class="w-6 h-6"></i><span>Datos</span></button>
            <button id="btn-agregar" class="footer-btn" data-section="Agregar"><i data-lucide="plus-circle" class="w-6 h-6"></i><span>Agregar</span></button>
            <button class="footer-btn" data-section="Perfil"><i data-lucide="user" class="w-6 h-6"></i><span>Perfil</span></button>
            <button class="footer-btn" data-section="Configuracion"><i data-lucide="settings" class="w-6 h-6"></i><span>Config</span></button>
        </footer>
    </div>
    <div id="system-modal" class="hidden modal-overlay"><div class="modal-content p-6 text-center"><div id="sys-modal-icon" class="mb-4 flex justify-center"></div><h3 id="sys-modal-title" class="text-lg font-bold text-white mb-2"></h3><p id="sys-modal-text" class="text-gray-400 text-sm mb-6"></p><div id="sys-modal-actions" class="flex gap-3 justify-center"></div></div></div>
    <script>
        const KEYS={NOMBRE:'Usuario_Nombre',PERFIL:'Usuario_Perfil',CEDULA:'Usuario_Cedula',CORREO:'Usuario_Correo',VIEW_MODE:'App_View_Mode'};
        document.addEventListener('DOMContentLoaded',()=>{if(!localStorage.getItem(KEYS.CORREO))window.location.replace('index.html');initUI();if(window.lucide)lucide.createIcons()});
        function initUI(){
            const nom=localStorage.getItem(KEYS.NOMBRE);if(nom)document.querySelector('h1').textContent=`¡Hola, ${nom.trim().split(/\s+/)[0]}!`;
            applyViewMode(localStorage.getItem(KEYS.VIEW_MODE)||'mobile');
            const ced=localStorage.getItem(KEYS.CEDULA);if(!ced||ced.trim()===""){['btn-datos','btn-agregar'].forEach(id=>{const b=document.getElementById(id);if(b){b.disabled=true;b.classList.add('opacity-30');b.style.pointerEvents='none'}})}
            document.querySelectorAll('.footer-btn').forEach(b=>b.onclick=()=>loadContent(b.getAttribute('data-section')));
        }
        function toggleView(){const m=localStorage.getItem(KEYS.VIEW_MODE)==='desktop'?'mobile':'desktop';localStorage.setItem(KEYS.VIEW_MODE,m);applyViewMode(m)}
        function applyViewMode(m){
            const c=document.getElementById('app-container'),i=document.getElementById('view-icon-container');
            if(m==='desktop'){c.classList.replace('mode-mobile','mode-desktop');i.innerHTML='<i data-lucide="smartphone" class="w-5 h-5 text-blue-400"></i>'}
            else{c.classList.replace('mode-desktop','mode-mobile');i.innerHTML='<i data-lucide="monitor" class="w-5 h-5 text-emerald-400"></i>'}
            if(window.lucide)lucide.createIcons();
        }
        async function loadContent(s){
            if(s==='Inicio')return;const NAV={'Datos':'Datos.html','Agregar':'AgregarDat.html','Perfil':'PerfilUsuario.html','Configuracion':'ConfigApp.html'};
            if(['Datos','Agregar'].includes(s)&&!localStorage.getItem(KEYS.CEDULA))return showSystemModal({title:'Acceso Restringido',text:'Registre su CÉDULA en el perfil.',type:'warning'});
            if(s==='Configuracion'&&localStorage.getItem(KEYS.PERFIL)!=='Admin')return showSystemModal({title:'Acceso Denegado',text:'Solo administradores.',type:'warning'});
            if(NAV[s])window.location.href=NAV[s];
        }
        function showSystemModal({title,text,type='info'}){
            return new Promise(res=>{
                const m=document.getElementById('system-modal'),ti=document.getElementById('sys-modal-title'),te=document.getElementById('sys-modal-text'),ic=document.getElementById('sys-modal-icon'),ac=document.getElementById('sys-modal-actions');
                ti.textContent=title;te.textContent=text;const colors={warning:'text-amber-400',info:'text-blue-400'},icons={warning:'alert-triangle',info:'info'};
                ic.innerHTML=`<i data-lucide="${icons[type]}" class="w-12 h-12 ${colors[type]}"></i>`;ac.innerHTML='';
                const b=document.createElement('button');b.className='px-6 py-2 rounded-lg bg-blue-600 text-white text-sm font-bold';b.textContent='Aceptar';
                b.onclick=()=>{m.classList.add('hidden');res(true)};ac.appendChild(b);m.classList.remove('hidden');lucide.createIcons();
            });
        }
        function logout(){localStorage.clear();window.location.href='index.html'}
    </script>
</body>
</html>
